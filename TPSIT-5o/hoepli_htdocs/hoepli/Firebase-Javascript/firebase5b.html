<!DOCTYPE html>
<HTML>
  <HEAD>
    <META CHARSET="UTF-8"/>
    <TITLE>Esempi con Firebase </TITLE>
    <!-- 1) connessione al driver/funzioni Firebase -->
    <script 
     src="https://www.gstatic.com/firebasejs/7.9.3/firebase.js">
    </script>  
  </HEAD>
  <BODY>
    <P>Esempio 7: aggiornamento di un nodo completo </P>
    <H4 id="id01"></H4>
  
    <script src="datiConnessione.js"></script>

    <script>
      // sostituitsci tutto il nodo  
      var path ='libri/hoepli/Niko/';
      var postData = {
        "JS1":{
          titolo: "programmiano in JS",
          argomento: "linguaggi",
          prezzo: 12
       }};
  
       var updates = {};
       updates[path] = postData;
       firebase.database().ref().update(updates);

       //  visualizza albero JSON
       var output = document.getElementById("id01");
       document.write("percorso Firebase:"+path);
       var ref = firebase.database().ref().child(path);   
       ref.on("value", function(snapshot){
         output.innerHTML = JSON.stringify(snapshot.val(), null, 2);
      });
    </script>
  </BODY>
</HTML>