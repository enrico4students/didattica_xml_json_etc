<html>
<head>
<title>Esercitazione per gli studenti</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body bgcolor="#FFFFFF">
<p><font color="#0000FF"><a href="mappaSenzaKeyCode.html"><img src="../images/execute.gif" width="44" height="32" border="0" align="right"></a><a href="index.html"><img src="../images/return.gif" width="41" height="30" align="right" border="0"></a></font></p>
<h3><font color="#006600">Codice sorgente del file mappaSenzaKeyCode.html</font></h3>
<pre><font color="#0000FF">&lt;?php  <strong>// DAFARE  !!!!!!!!! !!!!!</strong><font color="#0066FF"><em>                                           </em></font></font><font color="#0066FF"><em><font face="Courier New, Courier, mono">// verifica campo - tecnica POSTBACK - </font></em></font><font color="#000000" face="Courier New, Courier, mono">
  <font color="#0000FF">if</font> (!<font color="#FF0000">isset</font>($<font color="#006600">_POST</font>['<font color="#FF00FF">invia</font>']))
  {
<font color="#0066FF"><em>    // viene mostrato il form</em></font>
    <font color="#0000FF">echo</font> &quot;<strong>&lt;FORM ACTION=</strong>'&quot;.$<font color="#006600">_SERVER</font>['<font color="#FF00FF">PHP_SELF</font>'].&quot;' <strong>ENCTYPE</strong>='<font color="#FF00FF">multipart/form-data</font>' <strong>METHOD</strong>='<font color="#FF00FF">post</font>'&gt;&quot;;
    <font color="#0000FF">echo </font>&quot;<strong>&lt;INPUT TYPE=</strong>'<font color="#FF00FF">file</font>' <strong>NAME</strong>='<font color="#FF00FF">file_caricato</font>'&gt;&quot;;
    <font color="#0000FF">echo</font> &quot;<strong>&lt;INPUT TYPE</strong>='<font color="#FF00FF">submit</font>' <strong>value</strong>='<font color="#FF00FF">Upload file</font>' <strong>NAME</strong>='<font color="#FF00FF">invia</font>'&gt;&quot;;
    <font color="#0000FF">echo</font> &quot;&lt;<strong>/FORM</strong>&gt;&quot;;
 <font color="#0000FF"> <font color="#000000">}</font>
  else
 <font color="#000000"> {</font></font>
<font color="#0066FF"><em>    // metto il tipo, il percorso completo (nome_tmp) e il nome del file in 3 variabili di comodo   </em></font>
    $<font color="#006600">tipo</font> = $<font color="#006600">_FILES</font>['<font color="#FF33FF">file_caricato</font>']['<font color="#FF00FF">type</font>'];
    $<font color="#006600">nome</font> = $<font color="#006600">_FILES</font>['<font color="#FF00FF">file_caricato</font>']['<font color="#FF00FF">name</font>'];
    $<font color="#006600">nome_tmp</font> = $<font color="#006600">_FILES</font>['<font color="#FF00FF">file_caricato</font>']['<font color="#FF00FF">tmp_name</font>'];
<font color="#0066FF"><em>    //verifico il tipo di file, se si tratta di un'immagine (jpg, gif o png)
</em></font>    <font color="#0000FF">if</font> (($<font color="#006600">tipo</font>==&quot;<font color="#FF00FF">image/jpeg</font>&quot;)||($<font color="#009900">tipo</font>==&quot;<font color="#FF00FF">image/gif</font>&quot;)||($<font color="#009900">tipo</font>==&quot;<font color="#FF00FF">image/png</font>&quot;))
    {
<font color="#0066FF"><em>      // con move_uploaded_file il file verr&agrave; caricato dal client al server 
      // nel percorso specificato come secondo parametro
</em></font>      <font color="#FF0000">move_uploaded_file</font>($<font color="#006600">nome_tmp</font>,&quot;<font color="#FF00FF">C:/WWW/$nome</font>&quot;);
      <font color="#0000FF">echo</font> &quot;il file &egrave; stato caricato correttamente!&quot;;
    } 
    <font color="#0000FF">else</font>                                     <font color="#0066FF"><em>// se tipo file non consentito</em></font>
    { 
      <font color="#0000FF">echo </font>&quot;File con estensione non consentita&quot;;
    }
  }
  <font color="#0000FF">echo<font color="#000000"> </font></font>('<strong>&lt;p&gt;&lt;a href=index.html&gt;&lt;img src=../images/return.gif  width=41 height=30 align=right border=0&gt;&lt;/a&gt;&lt;/font&gt;&lt;/p&gt;</strong>');</font>
<font color="#0000FF" face="Courier New, Courier, mono">?&gt;   </font><font color="#0000FF" face="Courier New, Courier, mono"></font></pre>
</body>
</html>
