<html>
<head>
<title>Esercitazione per gli studenti</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body bgcolor="#FFFFFF">
<p><font color="#0000FF"><a href="connessioneFTP.php"><img src="../images/execute.gif" width="44" height="28" border="0" align="right"></a><a href="index.html"><img src="../images/return.gif" width="41" height="30" align="right" border="0"></a></font></p>
<h3><font color="#006600">Codice sorgente del file 


 provaMail.php</font></h3>
<pre>&lt;?php                       // spedisce una password casuale ad un cliente per email <br> function passwordCasuale($lunghezza){<br>   $setCaratteri =&quot;ABCDEFGHKLMNPQRSTUVWXYZabcdefghkmnpqrstuvwxyz23456789&quot;;<br>   $password = &quot;&quot;;<br>   for($i = 0; $i &lt; $lunghezza; $i++){<br>     $password = $password.substr($setCaratteri,rand(0,strlen($setCaratteri)-1),1);<br>   }<br>   return $password;<br> }<br> // costanti e parametri <br> $pswLunga     = 6;                      // lunghezza della password da generare<br> $acapo        = &quot;\n&quot;; <br> $saltaRiga    = &quot;\n\n&quot;; <br> // intestazioni e dati mittente<br> $mittente     = &quot;angelo&lt;angelo@rossi.it&gt;&quot;.$saltaRiga;<br> $intestazioni = &quot;From:&quot;.$mittente;  <br> // dati destinatario <br> $cognomeok    = &quot;Verdi&quot;;<br> $nomeok       = &quot;Paolo&quot;;<br> $destinatario = &quot;paolo@istruzione.it&quot;; <br> $destinatario = &quot;root@localhost&quot;; <br> // dati messaggio  <br> $password     = passwordCasuale($pswLunga);<br> $oggetto      = &quot;Recupero dati iscrizione al sito rossi.it &quot;; <br> $messaggio    = &quot;Carissimo cliente: &quot;.$cognomeok.&quot; &quot;.$nomeok.$acapo; <br> $messaggio   .= &quot;ti allego la nuova password: &quot;.$password.$saltaRiga ;<br> $messaggio   .= &quot;Puoi accedere dal seguente indirizzo: www.rossi.it/login.php&quot;.$acapo;<br> $messaggio   .= &quot;Cordialmente&quot;.$saltaRiga.&quot;Angelo Rossi&quot;.$acapo;<br> //--------------------------------------------------------------------------------<br> echo &quot;&lt;HR&gt;Programma di generazione password.&lt;HR&gt;&quot;;<br> $x = mail($destinatario, $oggetto, $messaggio, $intestazioni); // invio della mail<br> if ($x == 1){<br>   echo &quot;&lt;HR&gt;Mail inviata correttamente !&lt;HR&gt;&quot;;<br> }<br> else{<br>   echo &quot;&lt;HR&gt;Errore nell'invio della mail! !&lt;HR&gt;&quot;;<br> }</pre>
<p>echo &quot;&lt;a href='&quot;.$_SERVER['PHP_SELF'].&quot;'&gt;Torna allo script&lt;/A&gt;&quot;; <br>
  echo &quot;&lt;HR&gt;&lt;a href='../index.html'&gt;Torna al'indice&lt;/A&gt;&quot;; <br>
  ?&gt;<br>
</p>
</body>
</html>
