<html>
<head>
<title>Esercitazione per gli studenti</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body bgcolor="#FFFFFF">
<p><font color="#0000FF"><a href="percorso.html"><img src="../../images/execute.gif" width="44" height="32" border="0" align="right"></a><a href="../index.html"><img src="../../images/return.gif" width="41" height="30" align="right" border="0"></a></font></p>
<h3><font color="#006600">Codice sorgente del file 


 percorso.html</font></h3>
<pre><font color="#0000FF">&lt;HTML&gt;&lt;HEAD&gt;<br>&lt;LINK HREF=&quot;/maps/documentation/javascript/examples/default.css&quot; REL=&quot;stylesheet&quot;&gt;<br>&lt;SCRIPT TYPE=&quot;text/javascript&quot;<br>SRC=&quot;https://maps.googleapis.com/maps/api/js?key=AIzaSyChTsh9mTgKrBBzRAdmRVFLBTDWG__5aWk&amp;sensor=false&quot;&gt;<br>&lt;/script&gt;<br>&lt;STYLE&gt;<br>div.box { <br>  position:absolute;<br>  left:3px;<br>  top:10px;<br>  height:540px;<br>  width:400px;<br>  background-color:azure;<br>  overflow:auto; <br>}<br>div.mappa { <br>  position:absolute;<br>  left:420px;<br>  top:10px;<br>  height:540px;<br>  width:550px;<br>  background-color:yellow; <br>}<br>&lt;/STYLE&gt;<br>&lt;SCRIPT TYPE=&quot;text/javascript&quot;&gt; <br>function init(){<br>  // dichiarazione oggetto DirectionService, per la ricerca del percorso<br>  var direzione = new google.maps.DirectionsService();<br>  // dichiarazione oggetto DirectionRenderer, per visualizzare i risultati <br>  var mostra = new google.maps.DirectionsRenderer();<br>  // dichiarazione opzioni della mappa<br>  var opzioni = {<br>    zoom: 10,<br>    mapTypeId: google.maps.MapTypeId.HYBRID<br>  }<br>  // definizione delle propriet&agrave; necessarie per l'oggetto direzione:<br>  // inizio, fine percorso e metodo di ricerca (WALKING o DRIVING)<br>  var request = {<br>    origin: 'Milano', <br>    destination: 'Brescia',<br>    travelMode: google.maps.DirectionsTravelMode.DRIVING<br>   };<br>   // metodo route che calcola il percorso ricevendo due parametri<br>   // la variabile literl request che contiene da inizio e fine percorso<br>   // e la funzione anonima che riceve due parametri: response e status<br>   direzione.route(request, function(response, status){<br>    if (status == google.maps.DirectionsStatus.OK){     //se lo status &egrave; OK<br>      //viene inserita la traccia del risultato con il metodo setDirections<br>      mostra.setDirections(response);<br>    }<br>   });<br>   //definizione oggetto di classe Maps e associazione al &lt;div&gt; di nome 'mappa'<br>   map = new google.maps.Map(document.getElementById(&quot;mappa&quot;), opzioni);<br>   //metodo setMap mostra nella mappa l'output dei risultati<br>   mostra.setMap(map);<br>   //metodo setPanel mostra nel &lt;div&gt; l'output dei risultati in forma testuale<br>   mostra.setPanel(document.getElementById('elenco'));<br>}<br>&lt;/SCRIPT&gt;<br>&lt;/HEAD&gt; <br>&lt;TITLE&gt;Ricerca del percorso&lt;/TITLE&gt;<br>&lt;BODY onload=&quot;init()&quot;&gt; <br>&lt;div class=&quot;box&quot; id=&quot;elenco&quot;&gt;&lt;/DIV&gt;&lt;/P&gt;<br>&lt;DIV id=&quot;mappa&quot; class=&quot;mappa&quot;&gt;&lt;/DIV&gt;<br>&lt;/BODY&gt;&lt;/HTML&gt;<br></font>
</pre>
</body>
</html>
